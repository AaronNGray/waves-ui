<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl">
  <title data-ice="title">WavesJS UI API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/wavesjs/ui" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/layer-time-context.js~LayerTimeContext.html">LayerTimeContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/layer.js~Layer.html">Layer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/timeline-time-context.js~TimelineTimeContext.html">TimelineTimeContext</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/timeline.js~Timeline.html">Timeline</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/track-collection.js~TrackCollection.html">TrackCollection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/core/track.js~Track.html">Track</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div data-ice="index" class="github-markdown"><h1 id="waves-js-ui">waves.js - ui</h1>
<blockquote>
<p>Library to display and edit audio and timeseries data in the browser.</p>
</blockquote>
<h2 id="basic-example">Basic Example</h2>
<p>A timeline that displays a waveform and a segmentation over it.</p>
<pre><code><code class="source-code prettyprint"></code>
</code></pre><h2 id="goals-and-features">Goals and Features</h2>
<p><em>waves.js - ui</em> is a library that proposes primitives to build interactive temporal visualizations of audio and timeseries data for in-browser rendering. It has been designed by abstracting common features required in both music production environments and analysis authoring tools. 
Its main goal is to ease the development of audio-based web applications requiring interactive temporal visualizations.</p>
<p><em>ui</em> is part of the <a href="https://github.com/wavesjs/waves">waves.js</a> library.</p>
<h2 id="library-overview">Library Overview</h2>
<p>Here is a synthetic view of objects that compose the library, and their interconnections:</p>
<p><code>Timeline</code> 1..n <code>Track</code> 1..n <code>Layer</code> and its associated <code>Shape</code>: <code>Waveform</code>, <code>Marker</code>, <code>Segment</code> ...</p>
<h3 id="timeline">Timeline</h3>
<p>The <code>timeline</code> is the main entry point of a temporal representation, it:</p>
<ul>
<li>contains factories to manage its <code>tracks</code> and <code>layers</code>,</li>
<li>gets or sets the view window overs its <code>tracks</code> through <code>offset</code>, <code>zoom</code>, <code>pixelsPerSecond</code>, <code>visibleWidth</code>,</li>
<li>is the central hub for all user interaction events (keyboard, mouse),</li>
<li>holds the current interaction <code>state</code> which defines how the different timeline elements (tracks, layers, shapes) respond to those events.</li>
</ul>
<h3 id="track">Track</h3>
<p>The <code>tracks</code> simply organize the vertical arrangement of the <code>layers</code>. They are similar to the tracks of a Digital Audio Workstation. </p>
<p>Each <code>track</code> is associated to a DOM element.</p>
<h3 id="layer">Layer</h3>
<p>The <code>layers</code>: </p>
<ul>
<li>contain a reference to the audio data or timeserie, </li>
<li>have <code>start</code>, <code>offset</code>, <code>duration</code>, <code>stretchRatio</code> getters/setters to position it on the overall timeline,</li>
<li>configure a <code>Shape</code> to display the data, </li>
<li>set a <code>Behavior</code> to modify the data (both programmatically or based on user interaction dispatched from the <code>timeline</code> and its current <code>state</code>). </li>
</ul>
<p>Each <code>layer</code> is associated to a DOM element.</p>
<h3 id="shape">Shape</h3>
<p>The library comes with usual shapes to display audio data and timeseries: </p>
<ul>
<li><code>waveform</code></li>
<li><code>segment</code> and <code>annotated-segment</code></li>
<li><code>marker</code> and <code>annotated-marker</code> </li>
<li><code>dot</code> and <code>line</code>, for break point functions (aka automation curves)</li>
<li><code>trace</code></li>
<li><code>cursor</code> </li>
</ul>
<p>The library also provides a template (<code>BaseShape</code>) to create new kind of shapes.</p>
<h3 id="interactions-states">Interactions - states</h3>
<p>The <code>timeline</code> registers events to listen to from: </p>
<ul>
<li>the keyboard,</li>
<li>the mouse upon each of its tracks. </li>
</ul>
<p>A <code>state</code> of the timeline sorts these events and call the appropriate methods to:</p>
<ul>
<li>browse and zoom into the tracks (<code>BrushZoomState</code>, <code>CenteredZoomState</code>)</li>
<li>modify layers time characteristics (<code>ContextEditionState</code>)</li>
<li>modify layers data (<code>EditionState</code>)</li>
<li>select layers time characteristics, data (<code>SelectionState</code>)</li>
</ul>
<p><code>BaseState</code> is the base class to implement a specific <code>state</code>.</p>
<h3 id="behavior">Behavior</h3>
<p>The <code>behaviors</code> give an entry point to modify a shape or a layer directly from its rendering. It allows you to programmatically move DOM elements associated to a shape or a layer and modify accordingly the data associated to it. </p>
<h3 id="utils">Utils</h3>
<p>Traditionally, timeseries data can be formated like an array of object or multiple arrays. An <code>OrthogonalData</code> instance can format the datas in one or another formats.</p>
<h2 id="examples">Examples</h2>
<ul>
<li>Waveform</li>
<li>Segments</li>
<li>Markers</li>
<li>Annotated Markers</li>
<li>BreakPointFunction</li>
<li>Trace</li>
<li>Cursor</li>
<li>Zoom</li>
<li>Scales</li>
<li>Edition</li>
<li>Live input</li>
<li>With Audio engine</li>
<li>With Analysis engine (LFO)</li>
</ul>
<h2 id="full-documentation">Full Documentation</h2>
<p><a href="http://wavesjs.github.io/ui/">http://wavesjs.github.io/ui/</a></p>
<h2 id="use">Use</h2>
<h4 id="commonjs-browserify-">CommonJS (browserify)</h4>
<p>install with npm</p>
<pre><code class="lang-bash"><code class="source-code prettyprint">npm install --save wavesjs/ui</code>
</code></pre>
<p>consume in your modules</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var wavesUI = require(&apos;waves-ui&apos;);</code>
</code></pre>
<h4 id="amd-requirejs-">AMD (requireJS)</h4>
<p>add the waves library to your config</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">requirejs.config({
  paths: {
    waves: &apos;path/to/waves-ui.umd&apos;
  }
});</code>
</code></pre>
<p>consume in your modules</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">define([&apos;waves-ui&apos;], function(wavesUI) {
  var timeline = wavesUI.timeline();
  // ...
});</code>
</code></pre>
<h4 id="global">Global</h4>
<p>Add the script tag in your html file at the bottom of the <code>&lt;body&gt;</code></p>
<pre><code class="lang-html"><code class="source-code prettyprint">&lt;script scr=&quot;/path/to/waves-ui.umd.js&quot;&gt;&lt;/script&gt;</code>
</code></pre>
<p>The library is exposed in the <code>window.wavesUI</code> namespace.</p>
<h2 id="custom-build">Custom build</h2>
<p>In order to create your own custom build, you need to
remove/comment all the component you don&apos;t need from <code>waves-ui.js</code>, then run</p>
<pre><code class="lang-bash"><code class="source-code prettyprint">npm run bundle</code>
</code></pre>
<p><em><code>core/timeline</code>, <code>core/layer</code>, and <code>helpers/utils</code> are mandatory</em></p>
<h2 id="pull-request-tests-and-coverage">Pull-Request, Tests and Coverage</h2>
<p>To work with us (!), you need to install the following dependencies:</p>
<ul>
<li>&quot;babel&quot;: &quot;^4.5.0&quot;</li>
<li>&quot;babelify&quot;: &quot;^6.1.3&quot;</li>
<li>&quot;browserify&quot;: &quot;^9.0.3&quot;</li>
<li>&quot;testling&quot;: &quot;^1.7.1&quot;</li>
<li>&quot;coverify&quot;: &quot;^1.4.0&quot;</li>
</ul>
<p>so that <code>npm run test</code>, <code>npm run coverage</code> will correctly run.
We didn&apos;t put this dependencies in the package.json because you have probably already installed these ones globally and because they are huge.</p>
<p>PR are reviewed as long as they provide test and keep a good code coverage.</p>
<h2 id="license">License</h2>
<p>This module is released under the BSD-3-Clause license.</p>
<p>Acknowledgments</p>
<p>This code is part of the WAVE project, funded by ANR (The French National Research Agency).</p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.1)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
